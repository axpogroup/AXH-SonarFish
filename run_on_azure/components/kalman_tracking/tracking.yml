# <component>
$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
type: command

name: object_tracking
display_name: Track Objects with Kalman Filter
inputs:
  data:
    type: uri_folder
  tracking_config:
    type: string
    default: "kalman_tracking_settings.yaml"
    optional: true
  logging_level:
    type: string
    default: "INFO"
    optional: true
outputs:
  detections:
    type: uri_folder
environment: azureml:fishy_environment@latest
# queue_settings:
#   job_tier: spot
code: src
command: >-
  python kalman_tracking_azure.py 
  --job_inputs_path ${{inputs.data}}
  --job_output_path ${{outputs.detections}}
  $[[--tracking_config_path ${{inputs.tracking_config}}]]
  $[[--log_level ${{inputs.logging_level}}]]
# </component>